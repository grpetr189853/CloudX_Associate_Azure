1. Create resource group az group create --name learn-acr-rg --location eastus
2. Create registry $ACR_NAME="grpetr189853acr" az acr create --resource-group learn-acr-rg --name $ACR_NAME --sku Standard..
3. Build an application docker compose build docker compose up
4. Create Sql Database
5. Insert database connection String
6. Create image out of containers 
docker commit eshoponwebapp-eshoppublicapi-1 publicapi
docker commit eshoponwebapp-eshopwebmvc-1 web
7. Tag and push images into container registry
docker tag 8a9cb112f159 grpetr189853acr.azurecr.io/publicapi:latest
docker push grpetr189853acr.azurecr.io/publicapi:latest
docker tag f1acd9d48b96 grpetr189853acr.azurecr.io/web:latest
docker push grpetr189853acr.azurecr.io/web:latest
8. Create App Services Web App from Containers
9. Use the solution described here https://github.com/MicrosoftDocs/azure-docs/issues/34451
Hello everyone!

Today I was struggling with this and finally solved it. It's weird, not sure why ASPNETCORE_URLS or NETCORE_URLS are not loaded when set in the Azure portal Application settings. They are not loaded on my development machine if I change the launchSettings.json What did change it though is the urls parameter in the configuration. For example, in appsettings.json I set it as:

{
  "urls": "http://+:80;https://+:5001",
For docker and Azure I solved it like this:

1. Dockerfile
EXPOSE 80
2. Azure portal Application settings
 {
    "name": "urls",
    "value": "http://+:80",
    "slotSetting": false
  },
For some reason, urls parameter is picked up (while ASPNETCORE_URLS or NETCORE_URLS are not)

2021-09-30T19:27:01.907971162Z [19:27:01 INF] Now listening on: http://[::]:80
2021-09-30T19:27:01.934065699Z Service started...
2021-09-30T19:27:01.934786303Z [19:27:01 INF] Application started. Press Ctrl+C to shut down.
2021-09-30T19:27:01.935145705Z [19:27:01 INF] Hosting environment: Development
2021-09-30T19:27:01.935515707Z [19:27:01 INF] Content root path: /app
WOOHOO!

Please note my Application is a .NET 5 app. Are those parameters supported anymore, since I think this is not Azure related?

This worked for me, thanks a lot , however, I still have a question about the solution; why use http://+:80 ? is it because of the dynamic nature of the addresses assigned to the container?
9. WEBSITES_PORT = 80
10. Set in deployment senter Continuous deployment for Wevb App using container
